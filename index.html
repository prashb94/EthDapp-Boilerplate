<html>
    <head>
        <title>web3 test</title>
        <script src="jquery-3.2.1.js"></script>
        <script src="custom.js"></script>
    </head>
    <body>
        <h1>Welcome to web3 - looking like web1!</h1>
        <div id="content">Can I has web3?!</div>
        Address of the ICO Contract: <div id="contractAddress"></div>
        Current Address: <div id="currentAddress"></div>
        ICO Contract balance: <div id="contractBalance"></div>
        Your balance: <div id="yourBalance"></div>
        <img src="./ani_what.gif" alt="WHATEVER MAKES YOU HAPPY" width="300" height="50" border="0">
        <script>
            window.addEventListener('load', function() {

            // Checking if Web3 has been injected by the browser (Mist/MetaMask)
            if (typeof web3 !== 'undefined') {
                // Use Mist/MetaMask's provider
                $('#content').text('I has web3!!!');
                window.web3 = new Web3(web3.currentProvider);
            } else {
                $('#content').text('I doesn\'t has web3 :(')
                console.log('No web3? You should consider trying MetaMask!')
                // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)
                window.web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));
            }

            // Now you can start your app & access web3 freely:
            var contractAddress = "0xF5A1543FD8c29c4538F57ABcd747abeFF4d74a3F";
            $("#contractAddress").text(contractAddress);
                
             web3.eth.getBalance(contractAddress, function(err,res){
             $("#contractBalance").text(res);
                 console.log(err);
                 console.log(res);
             })
             //metamask address - ropsten test net 0xb33277b20E35e4682056833048448C721E6c96AC
            // do whatever you want to here!
            var gitico_sol_icoContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"getMyBalanceEther","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"payOutBalance","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getMyAddress","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"buyToken","outputs":[],"payable":true,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"priceWeiPerToken","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"}]);
           
            })
        </script>
    </body>
</html>





